/* =========================================
   Refonte CSS – moderne, modulable, responsive
   - Variables de thème (clair/sombre)
   - Layouts grid/flex fluides
   - Animations performantes (transform/opacity)
   - Accessibilité : focus-visible, reduced motion
   ========================================= */

/* ---------- Design tokens ---------- */
:root {
    /* Couleurs */
    --bg: #f6f8fb;
    --surface: #ffffff;
    --text: #27323a;
    --muted: #6b7b85;
  
    --primary: #3498db;
    --primary-600: #2c80b8;
    --primary-700: #246a98;
  
    --success: #4caf50;
    --success-600: #388e3c;
  
    --warning: #ffb400;
    --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  
    /* Rounds & Stroke */
    --radius-sm: .5rem;
    --radius: .75rem;
    --radius-lg: 1.25rem;
    --ring: 0 0 0 3px rgba(52, 152, 219, .25);
  
    /* Espace & Container */
    --space-1: .5rem;
    --space-2: .75rem;
    --space-3: 1rem;
    --space-4: 1.5rem;
    --space-5: 2rem;
    --space-6: 3rem;
    --container: 1200px;
  
    /* Typo fluide */
    --fs-xs: clamp(.82rem, .78rem + .2vw, .9rem);
    --fs-sm: clamp(.95rem, .9rem + .3vw, 1.05rem);
    --fs-base: clamp(1rem, .95rem + .35vw, 1.125rem);
    --fs-lg: clamp(1.25rem, 1.1rem + .7vw, 1.6rem);
    --fs-xl: clamp(1.8rem, 1.4rem + 1.5vw, 2.4rem);
    --fs-2xl: clamp(2.4rem, 1.8rem + 2vw, 3.2rem);
  
    /* Vitesse */
    --dur-fast: .18s;
    --dur: .28s;
    --dur-slow: .45s;
    --easing: cubic-bezier(.22,.61,.36,1);
  }
  
  /* Mode sombre auto */
  @media (prefers-color-scheme: dark) {
    :root {
      --bg: #0e1216;
      --surface: #12171d;
      --text: #e6edf3;
      --muted: #9aa9b7;
  
      --shadow: 0 14px 40px rgba(0, 0, 0, .35);
    }
  }
  
  /* ---------- Reset & base ---------- */
  *,
  *::before,
  *::after { box-sizing: border-box; }
  
  :where(html) {
    scroll-behavior: smooth;
    text-size-adjust: 100%;
  }
  
  :where(html){ overflow-x: hidden; }
  
  html, body {
    height: 100%;
  }

  :where(body) {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    background: var(--bg);
    color: var(--text);
    line-height: 1.6;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
  }
  
  /* Scrollbar (Firefox + WebKit) */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(150,150,150,.35) transparent;
  }
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb {
    background: rgba(150,150,150,.35);
    border-radius: 10px;
  }
  ::-webkit-scrollbar-thumb:hover { background: rgba(150,150,150,.55); }
  
  /* Réduction d’animations si demandé */
  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; transition: none !important; }
    html { scroll-behavior: auto; }
  }
  
  /* Utilitaires */
  .container {
    width: min(100% - 2rem, var(--container));
    margin-inline: auto;
  }
  .section {
    padding: clamp(3rem, 6vw, 6rem) 1rem;
  }
  .card {
    background: var(--surface);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }
  
  /* Focus accessible */
  a, button, [role="button"], .focusable {
    outline: none;
  }
  a:focus-visible,
  button:focus-visible,
  [role="button"]:focus-visible {
    box-shadow: var(--ring);
    border-radius: .4rem;
  }
  
  /* ---------------------------------
     Header / Navbar
  ---------------------------------- */
  header {
    background: color-mix(in oklab, var(--surface) 92%, transparent);
    position: sticky;
    top: 0;
    z-index: 50;
    backdrop-filter: saturate(1.2) blur(8px);
    -webkit-backdrop-filter: saturate(1.2) blur(8px);
    border-bottom: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
  }
  .navbar {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 64px;
  }
  .nav-links {
    list-style: none;
    display: flex;
    gap: clamp(.6rem, 1.2vw, 1.2rem);
    padding: .75rem 0;
    margin: 0;
  }
  .nav-links a {
    position: relative;
    display: inline-flex;
    align-items: center;
    padding: .4rem .8rem;
    font-weight: 600;
    font-size: var(--fs-sm);
    color: color-mix(in oklab, var(--text) 85%, var(--muted));
    text-decoration: none;
    transition: transform var(--dur) var(--easing), opacity var(--dur);
    opacity: .95;
  }
  .nav-links a::after {
    content: "";
    position: absolute;
    inset-inline: .6rem;
    bottom: .2rem;
    height: 2px;
    border-radius: 2px;
    background: linear-gradient(90deg, transparent, var(--primary), transparent);
    transform: scaleX(0);
    transform-origin: center;
    transition: transform var(--dur) var(--easing);
  }
  .nav-links a:hover { transform: translateY(-2px); opacity: 1; }
  .nav-links a:hover::after { transform: scaleX(1); }
  .nav-links a.active {
    color: var(--primary);
  }
  .nav-links a.active::after {
    transform: scaleX(1);
    background: linear-gradient(90deg, var(--primary-700), var(--primary));
  }
  
  /* ---------------------------------
     Hero
  ---------------------------------- */
  .hero {
    position: relative;
    overflow: clip;
    padding: clamp(3rem, 6vw, 6rem) 1rem;
    text-align: center;
  }
  .hero .container { position: relative; z-index: 1; }
  .hero h1 {
    font-size: var(--fs-2xl);
    font-weight: 800;
    letter-spacing: .02em;
    margin: 0 0 .6rem;
    text-wrap: balance;
  }
  .hero p {
    font-size: var(--fs-sm);
    color: var(--muted);
    max-width: 60ch;
    margin: 0 auto;
  }
  
  .hero-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: clamp(.8rem, 1.5vw, 1.25rem);
    flex-wrap: wrap;
    margin-bottom: .75rem;
  }
  .hero-profile-pic {
    width: clamp(64px, 8vw, 96px);
    height: clamp(64px, 8vw, 96px);
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--primary);
    box-shadow: var(--shadow);
    transition: transform var(--dur) var(--easing);
  }
  .hero-profile-pic:hover { transform: scale(1.05); }
  
  /* Aura en fond (plus léger que gros pseudo-élément) */
  .hero::before {
    content: "";
    position: absolute;
    inset: -20%;
    background:
      radial-gradient(60% 50% at 50% 20%, color-mix(in oklab, var(--primary) 15%, transparent) 0, transparent 60%),
      radial-gradient(50% 40% at 80% 10%, color-mix(in oklab, var(--primary) 10%, transparent) 0, transparent 70%);
    z-index: 0;
    opacity: .6;
    filter: blur(20px);
  }
  
  /* Fond pulsant (reprend ton idée, optimisé) */
  .background-effect {
    position: absolute;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    background: radial-gradient(600px 600px at 50% 40%, color-mix(in oklab, var(--primary) 12%, transparent), transparent 70%);
    animation: heroPulse 7s var(--easing) infinite;
  }
  @keyframes heroPulse {
    0%,100% { transform: scale(1); opacity: .65; }
    50% { transform: scale(1.06); opacity: .9; }
  }
  
  /* Liens */
  .custom-link {
    color: var(--primary);
    font-weight: 600;
    text-decoration: none;
  }
  .custom-link:hover { text-decoration: underline; }
  
  /* ---------------------------------
     About
  ---------------------------------- */
  .about {
    background: color-mix(in oklab, var(--surface) 95%, var(--bg));
  }
  .about .about-container {
    display: grid;
    align-items: center;
    justify-content: center;
    gap: clamp(1rem, 3vw, 3rem);
    grid-template-columns: 1fr;
    text-align: center;
  }
  @container style(--container) {}
  @media (min-width: 900px) {
    .about .about-container {
      grid-template-columns: minmax(240px, 320px) minmax(300px, 1fr);
      text-align: left;
    }
  }
  .about-image img {
    width: min(260px, 70vw);
    aspect-ratio: 1/1;
    border-radius: var(--radius-lg);
    object-fit: cover;
    box-shadow: var(--shadow);
    transition: transform var(--dur), box-shadow var(--dur);
  }
  .about-image img:hover { transform: translateY(-4px); }
  .about-text { max-width: 65ch; margin-inline: auto; }
  .about-text h2 {
    font-size: var(--fs-xl);
    margin: 0 0 .75rem;
  }
  .about-text p {
    font-size: var(--fs-base);
    color: var(--muted);
    text-wrap: pretty;
  }
  
  /* ---------------------------------
     Compétences
  ---------------------------------- */
  .competences { background: var(--surface); }
  .competences h2 {
    font-size: var(--fs-xl);
    text-align: center;
    margin: 0 0 var(--space-4);
  }
  .competences-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-4);
    width: min(100% - 2rem, var(--container));
    margin-inline: auto;
  }
  .competence {
    --hover-bg: color-mix(in oklab, var(--primary) 18%, var(--surface));
    border-radius: var(--radius);
    padding: var(--space-4);
    background: var(--surface);
    box-shadow: var(--shadow);
    transform: translateY(0);
    transition: transform var(--dur), box-shadow var(--dur), background var(--dur), color var(--dur);
    will-change: transform;
  }
  .competence i {
    font-size: 2.2rem;
    color: var(--primary);
    display: block;
    margin-bottom: .8rem;
    transition: transform var(--dur), color var(--dur);
  }
  .competence h3 {
    font-size: 1.05rem;
    margin: .2rem 0 .6rem;
  }
  .progress-bar {
    background: color-mix(in oklab, var(--text) 8%, transparent);
    border-radius: 999px;
    height: 8px;
    overflow: hidden;
  }
  .progress {
    height: 100%;
    width: var(--value, 70%);
    background: linear-gradient(90deg, var(--primary-700), var(--primary));
    border-radius: 999px;
    transform-origin: left;
    animation: fillIn .9s var(--easing) both;
  }
  @keyframes fillIn { from { transform: scaleX(.1); } to { transform: scaleX(1); } }
  
  .competence:hover {
    transform: translateY(-8px);
    box-shadow: 0 16px 42px rgba(0,0,0,.18);
  }
  .competence:hover i { transform: translateY(-2px); color: #fff; }
  .competence:hover { background: var(--hover-bg); color: #fff; }
  .competence:hover .progress { background: linear-gradient(90deg, #3574bd, var(--primary)); }
  
  /* ---------------------------------
     Outils
  ---------------------------------- */
  .outils { background: var(--bg); }
  .outils h2 {
    font-size: var(--fs-xl);
    text-align: center;
    margin: 0 0 var(--space-4);
  }
  .outils-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
    gap: var(--space-4);
    width: min(100% - 2rem, var(--container));
    margin-inline: auto;
  }
  .outil {
    padding: var(--space-4);
    border-radius: var(--radius);
    background: var(--surface);
    box-shadow: var(--shadow);
    text-align: center;
    transition: transform var(--dur), box-shadow var(--dur), background var(--dur);
  }
  .outil i {
    font-size: 2.2rem;
    color: var(--primary);
    margin-bottom: .8rem;
    transition: transform var(--dur), color var(--dur);
  }
  .outil:hover {
    transform: translateY(-8px);
    background: color-mix(in oklab, var(--primary) 14%, var(--surface));
    box-shadow: 0 16px 42px rgba(0,0,0,.18);
    color: #fff;
  }
  .outil:hover i { color: #fff; transform: translateY(-2px); }
  
  /* ---------------------------------
     Projets
  ---------------------------------- */
  .projets { background: var(--bg); }
  .projets h2 {
    font-size: var(--fs-xl);
    text-align: center;
    margin: 0 0 var(--space-4);
  }
  .projets-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-4);
    width: min(100% - 2rem, var(--container));
    margin-inline: auto;
  }
  .projet {
    position: relative;
    padding: var(--space-4);
    border-radius: var(--radius);
    background: var(--surface);
    box-shadow: var(--shadow);
    transition: transform var(--dur), box-shadow var(--dur);
    overflow: clip;
  }
  .projet::before {
    content: "";
    position: absolute;
    inset-inline: 0;
    top: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--success-600), var(--success));
    opacity: .9;
  }
  .projet:hover { transform: translateY(-6px); box-shadow: 0 18px 46px rgba(0,0,0,.2); }
  .projet i {
    font-size: 2.2rem;
    color: var(--success);
    margin-bottom: .8rem;
    transition: transform var(--dur), color var(--dur);
  }
  .projet:hover i { color: var(--success-600); transform: translateY(-2px); }
  .projet h3 {
    font-size: var(--fs-lg);
    margin: .2rem 0 .5rem;
  }
  .projet p {
    color: var(--muted);
    margin: 0 0 1rem;
  }
  .difficulte {
    display: inline-flex;
    gap: .3rem;
  }
  .star {
    font-size: 1.25rem;
    color: #d3d3d3;
    transition: transform var(--dur), color var(--dur);
  }
  .star.filled { color: var(--warning); }
  .projet:hover .star.filled { color: color-mix(in oklab, var(--warning) 85%, #ff9900); transform: translateY(-1px); }
  
  /* ---------------------------------
     Langues
  ---------------------------------- */
  .langues { background: var(--bg); }
  .langues h2 {
    font-size: var(--fs-xl);
    text-align: center;
    margin: 0 0 var(--space-4);
  }
  .langues-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: var(--space-4);
    width: min(100% - 2rem, var(--container));
    margin-inline: auto;
  }
  .langue {
    background: var(--surface);
    padding: var(--space-5);
    border-radius: var(--radius);
    text-align: center;
    box-shadow: var(--shadow);
    transition: transform var(--dur), box-shadow var(--dur);
  }
  .langue:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 18px 46px rgba(0,0,0,.2); }
  .flag-icon {
    width: 64px; height: 44px;
    object-fit: cover;
    border-radius: .4rem;
    display: inline-block;
    margin-bottom: .8rem;
    transition: transform var(--dur);
  }
  .langue:hover .flag-icon { transform: rotate(6deg) scale(1.06); }
  .langue h3 {
    display: flex; align-items: center; justify-content: center;
    gap: .4rem;
    font-size: var(--fs-lg);
    color: var(--primary);
    margin: .2rem 0 .4rem;
    transition: color var(--dur), transform var(--dur);
  }
  .langue:hover h3 { color: var(--primary-600); transform: translateY(-2px); }
  .langue p {
    font-weight: 600;
    color: var(--muted);
    margin-top: .6rem;
    transition: color var(--dur), transform var(--dur);
  }
  .langue:hover p { color: var(--primary-600); transform: translateY(-2px); }
  
  /* ---------------------------------
     Parcours / Timeline
  ---------------------------------- */
  .parcours {
    background: transparent;
  }
  .timeline {
    position: relative;
    width: min(100% - 2rem, 800px);
    margin: 0 auto;
    padding-left: 1.75rem;
    border-left: 2px solid color-mix(in oklab, var(--text) 16%, transparent);
  }
  .timeline-item {
    position: relative;
    margin: var(--space-4) 0;
    padding-left: .75rem;
    transition: transform var(--dur), box-shadow var(--dur);
  }
  .timeline-item::before {
    content: "";
    position: absolute;
    left: -12px; top: .1rem;
    width: 16px; height: 16px;
    border-radius: 50%;
    background: var(--primary);
    border: 2px solid var(--surface);
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 25%, transparent);
    transition: transform var(--dur), background var(--dur);
  }
  .timeline-item:hover { transform: translateX(4px); }
  .timeline-item:hover::before { transform: scale(1.15); background: var(--primary-600); }
  .timeline-content {
    display: grid;
    gap: .3rem;
    transition: color var(--dur);
  }
  .timeline-date { font-weight: 800; color: var(--text); }
  .timeline-description {
    color: var(--muted);
    font-size: var(--fs-sm);
    max-width: 46ch;
  }
  
  /* ---------------------------------
     Contact
  ---------------------------------- */
  .contact {
    background: var(--surface);
  }
  .contact h1 {
    font-size: var(--fs-2xl);
    margin: 0 0 .5rem;
    letter-spacing: .03em;
    text-transform: uppercase;
  }
  .contact p {
    font-size: var(--fs-base);
    color: var(--muted);
    max-width: 68ch;
    margin: 0 auto;
  }
  
  /* ---------------------------------
     Footer
  ---------------------------------- */
  #footer {
    background: var(--surface);
    padding: var(--space-5) 1rem;
    text-align: center;
    margin-top: auto;
    border-top: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
    position: static;
  }
  .footer-icons {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: clamp(.8rem, 2vw, 1.6rem);
    margin-bottom: .6rem;
  }
  .footer-icon {
    font-size: clamp(1.6rem, 2vw, 2rem);
    color: var(--text);
    transition: transform var(--dur), color var(--dur), opacity var(--dur);
    opacity: .9;
  }
  .footer-icon:hover { transform: translateY(-2px) scale(1.04); color: var(--primary); opacity: 1; }
  .footer-logo-link { display: inline-flex; align-items: center; }
  .footer-logo {
    width: 44px; height: 44px; object-fit: cover;
    border-radius: 50%;
    opacity: .8; box-shadow: var(--shadow);
    transition: transform var(--dur), opacity var(--dur);
  }
  .footer-logo:hover { opacity: 1; transform: scale(1.05); }
  footer p { color: var(--muted); font-size: var(--fs-xs); margin: 0; }
  
  main {
    flex: 1;
  }

  /* ---------------------------------
     Particules (contient ton canvas)
  ---------------------------------- */
  #particles-js {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100dvh;
    z-index: -1;
    pointer-events: none;
  }
  
  /* ---------------------------------
     Responsive tweaks
  ---------------------------------- */
  @media (max-width: 900px) {
    .nav-links { flex-wrap: wrap; justify-content: center; }
    .timeline { padding-left: 1rem; }
  }
  @media (max-width: 600px) {
    .hero { padding-block: 3rem; }
    .nav-links a { padding: .35rem .6rem; }
    .timeline { border-left-width: 1.5px; }
    .timeline-item::before { width: 14px; height: 14px; left: -11px; }
  }  